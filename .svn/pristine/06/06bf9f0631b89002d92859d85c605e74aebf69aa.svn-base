<!--TO READ THIS HELP FILE, RIGHT-CLICK ON THE FILE NAME IN THE
    SOLUTION EXPLORER PANE AND SELECT "VIEW IN BROWSER"-->

<html><head><title>Custom Data Controls Sample</title></head><body><h1>Custom Data Controls Sample</h1><div id="mainSection"><div id="mainBody"><div id="allHistory" class="saveHistory" onsave="saveAll()" onload="loadAll()"></div><p /><p>This sample demonstrates how to use your own controls with the <b>Data Sources</b> window.</p><div class="alert"><table width="100%" cellspacing="0" cellpadding="0"><tr><th align="left">Security Note </th></tr><tr><td><p>This sample code is provided to illustrate a concept and should not be used in applications or Web sites, as it may not illustrate the safest coding practices. Microsoft assumes no liability for incidental or consequential damages should the sample code be used for purposes other than as intended.</p></td></tr></table></div><h1 class="heading">To run this sample</h1><div id="procedureSection0" class="section"><ol><li><p>Click the <b>Download</b> button on this page. In the <b>File Download</b> dialog box, click <b>Open</b>.</p></li><li><p>Save the files to your computer.</p></li><li><p>On the <b>File</b> menu in Visual Studio, point to <b>Open</b>, and then click <b>Project/Solution</b>.</p></li><li><p>Browse to the folder where you saved the files and select the solution file. This opens the solution in Visual Studio.</p></li><li><p>Press F5.</p></li></ol></div><h1 class="heading">Requirements</h1><div id="requirementsSection" class="section"><p>This sample requires the Northwind sample database. For more information, see <MSHelp:link keywords="8B3CEE2B-1BD8-4917-91CA-E90A6C557794" tabindex="0" >How to: Install and Troubleshoot Database Components for Samples</MSHelp:link>.</p></div><h1 class="heading">Demonstrates</h1><div id="demonstratesSection" class="section"><p>The sample solution includes two projects. One is a Windows Control library named <code>MyCompanyControls</code>. The second is a Windows Application named <code>CustomDataControls</code>.</p><p>The control library defines the <code>PhoneBox</code> control. The control simply inherits from <MSHelp:link keywords="T:System.Windows.Forms.MaskedTextBox" TABINDEX="0" >MaskedTextBox</MSHelp:link> and sets the <MSHelp:link keywords="P:System.Windows.Forms.MaskedTextBox.Mask" TABINDEX="0" >Mask</MSHelp:link> to a Phone Number with Area Code. The library project also contains an embedded resource, PhoneBox.bmp, to represent the icon in the <b>ToolBox</b> and <b>Data Sources</b> window.  </p><p>The <code>PhoneBox</code> control is available in the <code>CustomDataControls</code> project. By selecting <b>Rebuild</b> from the project's shortcut menu, the <code>PhoneBox</code> will appear in the <b>Toolbox</b> in a new section named <b>MyCompanyControls</b>. You need to have <code>Form1</code> opened in the designer in order to see the <b>ToolBox</b> items.</p><p>The <b>Data Sources</b> window is used to add the <code>PhoneBox</code> to the list of controls for <b>String</b>. In the <b>Data Sources</b> window, select the <code>EmergencyContactPhone</code> column under the <code>Employee</code> table. Select the drop-down and choose <b>Customize</b>. This opens the dialog box for customizing the list of controls for given types. This list is populated with the list of controls currently in the Visual Studio <b>ToolBox</b> that implement the <MSHelp:link keywords="T:System.ComponentModel.DefaultBindingPropertyAttribute" TABINDEX="0" >DefaultBindingPropertyAttribute</MSHelp:link>. The <code>PhoneBox</code> control inherits from <b>MaskedTextBox</b> which supports the <b>DefaultBindingPropertyAttribute</b>. Select <b>String</b> under <b>Data Type</b> and find the <code>PhoneBox</code> control in the list. The check by the <code>PhoneBox</code> control indicates to Visual Studio that the <code>PhoneBox</code> control is one of the available controls for any object that has a string property. </p></div></div><div id="footer"><div class="footerLine"></div>
        To make a suggestion or report a bug about Help or another feature of this product, go to the <a href="http://go.microsoft.com/fwlink/?LinkId=50040">feedback site</a>.
      </div></div></body></html>
